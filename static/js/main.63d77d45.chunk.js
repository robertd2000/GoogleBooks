(this["webpackJsonpgoogle-books-api"]=this["webpackJsonpgoogle-books-api"]||[]).push([[0],{14:function(e,t,n){e.exports={position:"Loader_position__31CRR",lds_ellipsis:"Loader_lds_ellipsis__2mEhA","lds-ellipsis1":"Loader_lds-ellipsis1__3JfXm","lds-ellipsis2":"Loader_lds-ellipsis2__TuxWZ","lds-ellipsis3":"Loader_lds-ellipsis3__1_SBW"}},24:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(8),a=n.n(s),o=(n(24),n(2)),i=n.n(o),l=n(5),u=n(3),d=n(0),b=function(e){var t=e.data.volumeInfo,n=t.title,r=t.language,c=t.authors,s=t.imageLinks,a=t.publishedDate,o=t.previewLink;return Object(d.jsx)("div",{className:"col-sm-6 shadow-lg p-3 mb-5 bg-white rounded",children:Object(d.jsxs)("div",{className:"card bg-secondary mb-3",style:{width:500},children:[Object(d.jsxs)("div",{className:"row shadow-lg p-3 mb-5 text-center text-white ",children:[Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("h3",{className:"card-body",children:n})}),Object(d.jsx)("img",{style:{width:180},className:"rounded mx-auto d-block",src:s&&s.smallThumbnail})]}),Object(d.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(d.jsxs)("li",{className:"list-group-item",children:["Language: ",Object(d.jsx)("span",{className:"font-weight-bold",children:r})]}),Object(d.jsxs)("li",{className:"list-group-item",children:["Published date:"," ",Object(d.jsx)("span",{className:"font-weight-bold",children:a})]}),Object(d.jsxs)("li",{className:"list-group-item",children:["Authors: ",Object(d.jsx)("span",{className:"font-weight-bold",children:c})]}),Object(d.jsx)("li",{className:"list-group-item",children:Object(d.jsx)("a",{className:"link-info",href:o,children:"Watch on Google Books"})})]})]})})},j=n(7),p=n(16),h=n(17),f=function(){function e(){Object(p.a)(this,e)}return Object(h.a)(e,null,[{key:"getBook",value:function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,e.next=3,fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(t,"?page=").concat(n));case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),g=Object(j.b)("books/getBooks",function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.book,r=t.page,console.log(t),c=f.getBook(n,r),console.log(c),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=Object(j.c)({name:"books",initialState:{books:[],totalResults:0,currentPage:1,searchedBook:"lord",error:"",loading:!1,alert:!1},reducers:{setCurrentPage:function(e,t){e.currentPage=t.payload},setSearchedBook:function(e,t){e.searchedBook=t.payload}},extraReducers:function(e){e.addCase(g.pending,(function(e,t){e.loading=!0,console.log(e.loading)})),e.addCase(g.fulfilled,(function(e,t){return"400"===t.payload.cod?(e.loading=!1,e.alert=!0,e.error="\u041f\u0443\u0441\u0442\u043e\u0439 \u0432\u0432\u043e\u0434. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430.",e):"404"===t.payload.cod?(e.loading=!1,e.alert=!0,e.error="\u0413\u043e\u0440\u043e\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d",e):(e.loading=!0,e.books=t.payload.items,e.totalResults=t.payload.totalItems,void(e.loading=!1))}))}}),O=m.actions,x=O.setCurrentPage,v=O.setSearchedBook,k=m.reducer,w=n(14),N=n.n(w),y=function(){return Object(d.jsx)("div",{className:N.a.position,children:Object(d.jsxs)("div",{className:N.a.lds_ellipsis,children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})})},_=function(e){Object(r.useEffect)(Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(g({book:"lord",page:1}));case 2:case"end":return e.stop()}}),e)}))),[]);var t=Object(u.b)(),n=Object(u.c)((function(e){return e.reducer.books}));return Object(u.c)((function(e){return e.reducer.loading}))?Object(d.jsx)(y,{}):Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row shadow-lg p-3 mb-5 bg-white rounded",children:n.length?n.map((function(e){return Object(d.jsx)(b,{data:e},e.id+Math.random())})):"Not found"})})},B=n(18),C=function(e){var t=e.text;return Object(d.jsx)("div",{className:"alert alert-info",role:"alert",children:t})},L=function(){var e=Object(r.useState)(""),t=Object(B.a)(e,2),n=t[0],c=t[1],s=Object(u.c)((function(e){return e.reducer.alert})),a=Object(u.c)((function(e){return e.reducer.error})),o=Object(u.b)(),b=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o(v(n)),e.next=4,o(g({book:n,page:1}));case 4:c("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("form",{onSubmit:b,children:[s?Object(d.jsx)(C,{text:a}):null,Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control",value:n,onChange:function(e){c(e.target.value)}})}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary center-block",children:"Seach"})]})},S=n(19),P=function(){for(var e=Object(u.b)(),t=Object(u.c)((function(e){return e.reducer.totalResults})),n=Object(u.c)((function(e){return e.reducer.currentPage})),r=Object(u.c)((function(e){return e.reducer.searchedBook})),c=Math.ceil(t/10),s=[],a=1;a<=c;a++)s.push(a);var o=function(){var t=Object(l.a)(i.a.mark((function t(n,r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(g({book:n,page:r}));case 2:e(x(r));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),b=s.map((function(e){return Object(d.jsxs)("span",{onClick:function(){return o(r,e)},className:e===n?"pageItem active":"pageItem",children:[" ",e," "]},e)})),j=n>3?n-3:n;return Object(d.jsx)("div",{className:"footer",children:b.length>20?[].concat(Object(S.a)(b.slice(j-1,j+7)),["...",b[b.length-1]]):b})};var I=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(L,{}),Object(d.jsx)(_,{}),Object(d.jsx)(P,{})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))},F=Object(j.a)({reducer:{reducer:k}});a.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(u.a,{store:F,children:Object(d.jsx)(I,{})})}),document.getElementById("root")),R()}},[[33,1,2]]]);
//# sourceMappingURL=main.63d77d45.chunk.js.map