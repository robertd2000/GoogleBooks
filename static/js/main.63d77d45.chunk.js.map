{"version":3,"sources":["utils/Loader.module.css","components/BooksItem.js","service/service.js","redux/reducer.js","utils/loader.js","components/BooksList.js","utils/Alert.js","components/Search.js","components/Footer.js","App.js","reportWebVitals.js","redux/store.js","index.js"],"names":["module","exports","BooksItem","data","volumeInfo","title","language","authors","imageLinks","publishedDate","previewLink","className","style","width","src","smallThumbnail","href","Service","book","page","fetch","response","json","getBooks","createAsyncThunk","a","console","log","getBook","booksSlice","createSlice","name","initialState","books","totalResults","currentPage","searchedBook","error","loading","alert","reducers","setCurrentPage","state","action","payload","setSearchedBook","extraReducers","builder","addCase","pending","fulfilled","cod","items","totalItems","actions","Loader","s","position","lds_ellipsis","BooksList","props","useEffect","dispatch","useDispatch","booksList","useSelector","reducer","length","map","id","Math","random","Alert","text","role","Search","useState","setState","getBooksHandler","e","preventDefault","onSubmit","value","onChange","target","type","Footer","totalRes","searhedBook","totalPages","ceil","pages","i","push","changePage","pagesItem","p","onClick","offset","slice","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.63d77d45.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"position\":\"Loader_position__31CRR\",\"lds_ellipsis\":\"Loader_lds_ellipsis__2mEhA\",\"lds-ellipsis1\":\"Loader_lds-ellipsis1__3JfXm\",\"lds-ellipsis2\":\"Loader_lds-ellipsis2__TuxWZ\",\"lds-ellipsis3\":\"Loader_lds-ellipsis3__1_SBW\"};","export const BooksItem = ({ data }) => {\r\n  const {\r\n    title,\r\n    language,\r\n    authors,\r\n    imageLinks,\r\n    publishedDate,\r\n    previewLink,\r\n  } = data.volumeInfo;\r\n  return (\r\n    <div className=\"col-sm-6 shadow-lg p-3 mb-5 bg-white rounded\">\r\n      <div className=\"card bg-secondary mb-3\" style={{ width: 500 }}>\r\n        <div className=\"row shadow-lg p-3 mb-5 text-center text-white \">\r\n          <div className=\"card-body\">\r\n            <h3 className=\"card-body\">{title}</h3>\r\n          </div>\r\n\r\n          <img\r\n            style={{ width: 180 }}\r\n            className=\"rounded mx-auto d-block\"\r\n            src={imageLinks && imageLinks.smallThumbnail}\r\n          />\r\n        </div>\r\n\r\n        <ul className=\"list-group list-group-flush\">\r\n          <li className=\"list-group-item\">\r\n            Language: <span className=\"font-weight-bold\">{language}</span>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            Published date:{' '}\r\n            <span className=\"font-weight-bold\">{publishedDate}</span>\r\n          </li>\r\n\r\n          <li className=\"list-group-item\">\r\n            Authors: <span className=\"font-weight-bold\">{authors}</span>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <a className=\"link-info\" href={previewLink}>\r\n              Watch on Google Books\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export class Service {\r\n  static async getBook(book, page = 1) {\r\n    const response = await fetch(\r\n      `https://www.googleapis.com/books/v1/volumes?q=${book}?page=${page}`\r\n    );\r\n    return await response.json();\r\n  }\r\n}\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { Service } from '../service/service';\r\n\r\nconst initialStore = {\r\n  books: [],\r\n  totalResults: 0,\r\n  currentPage: 1,\r\n  searchedBook: 'lord',\r\n  error: '',\r\n  loading: false,\r\n  alert: false,\r\n};\r\n\r\nexport const getBooks = createAsyncThunk('books/getBooks', async (data) => {\r\n  const { book, page } = data;\r\n  console.log(data);\r\n  const response = Service.getBook(book, page);\r\n  console.log(response);\r\n  return response;\r\n});\r\n\r\nconst booksSlice = createSlice({\r\n  name: 'books',\r\n  initialState: initialStore,\r\n  reducers: {\r\n    setCurrentPage(state, action) {\r\n      state.currentPage = action.payload;\r\n    },\r\n    setSearchedBook(state, action) {\r\n      state.searchedBook = action.payload;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(getBooks.pending, (state, action) => {\r\n      state.loading = true;\r\n      console.log(state.loading);\r\n    });\r\n    builder.addCase(getBooks.fulfilled, (state, action) => {\r\n      if (action.payload.cod === '400') {\r\n        state.loading = false;\r\n        state.alert = true;\r\n        state.error =\r\n          'Пустой ввод. Пожалуйста введите название города для поиска.';\r\n\r\n        return state;\r\n      }\r\n\r\n      if (action.payload.cod === '404') {\r\n        state.loading = false;\r\n        state.alert = true;\r\n        state.error = 'Город не найден';\r\n\r\n        return state;\r\n      }\r\n\r\n      state.loading = true;\r\n      state.books = action.payload.items;\r\n      state.totalResults = action.payload.totalItems;\r\n      state.loading = false;\r\n    });\r\n  },\r\n});\r\n\r\nexport const { setCurrentPage, setSearchedBook } = booksSlice.actions;\r\nexport default booksSlice.reducer;\r\n","import s from './Loader.module.css';\r\n\r\nlet Loader = () => {\r\n  return (\r\n    <div className={s.position}>\r\n      <div className={s.lds_ellipsis}>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { BooksItem } from './BooksItem';\r\nimport { getBooks } from '../redux/reducer';\r\nimport Loader from '../utils/loader';\r\n\r\nexport const BooksList = (props) => {\r\n  useEffect(async () => {\r\n    await dispatch(getBooks({ book: 'lord', page: 1 }));\r\n  }, []);\r\n\r\n  const dispatch = useDispatch();\r\n  const booksList = useSelector((state) => state.reducer.books);\r\n  const loading = useSelector((state) => state.reducer.loading);\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row shadow-lg p-3 mb-5 bg-white rounded\">\r\n        {booksList.length\r\n          ? booksList.map((book) => {\r\n              return <BooksItem data={book} key={book.id + Math.random()} />;\r\n            })\r\n          : 'Not found'}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export const Alert = ({ text }) => {\r\n  return (\r\n    <div className=\"alert alert-info\" role=\"alert\">\r\n      {text}\r\n    </div>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getBooks, setSearchedBook } from '../redux/reducer';\r\nimport { Alert } from '../utils/Alert';\r\n\r\nexport const Search = () => {\r\n  const [state, setState] = useState('');\r\n  const inputHandler = (e) => {\r\n    setState(e.target.value);\r\n  };\r\n\r\n  const alert = useSelector((state) => state.reducer.alert);\r\n  const error = useSelector((state) => state.reducer.error);\r\n\r\n  const dispatch = useDispatch();\r\n  const getBooksHandler = async (e) => {\r\n    e.preventDefault();\r\n    dispatch(setSearchedBook(state));\r\n    await dispatch(getBooks({ book: state, page: 1 }));\r\n    setState('');\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={getBooksHandler}>\r\n      {alert ? <Alert text={error} /> : null}\r\n      <div className=\"form-group\">\r\n        <input className=\"form-control\" value={state} onChange={inputHandler} />\r\n      </div>\r\n      <button type=\"submit\" className=\"btn btn-primary center-block\">\r\n        Seach\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport { getBooks, setCurrentPage } from '../redux/reducer';\r\n\r\nexport const Footer = () => {\r\n  const dispatch = useDispatch();\r\n  const totalRes = useSelector((state) => state.reducer.totalResults);\r\n  const currentPage = useSelector((state) => state.reducer.currentPage);\r\n  const searhedBook = useSelector((state) => state.reducer.searchedBook);\r\n\r\n  const totalPages = Math.ceil(totalRes / 10);\r\n  let pages = [];\r\n\r\n  for (let i = 1; i <= totalPages; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  const changePage = async (title, page) => {\r\n    await dispatch(getBooks({ book: title, page }));\r\n    dispatch(setCurrentPage(page));\r\n  };\r\n\r\n  const pagesItem = pages.map((p) => (\r\n    <span\r\n      key={p}\r\n      onClick={() => changePage(searhedBook, p)}\r\n      className={p === currentPage ? 'pageItem active' : 'pageItem'}\r\n    >\r\n      {' '}\r\n      {p}{' '}\r\n    </span>\r\n  ));\r\n\r\n  const offset = currentPage > 3 ? currentPage - 3 : currentPage;\r\n  const endOffset = 7;\r\n\r\n  return (\r\n    <div className=\"footer\">\r\n      {pagesItem.length > 20\r\n        ? [\r\n            ...pagesItem.slice(offset - 1, offset + endOffset),\r\n            '...',\r\n            pagesItem[pagesItem.length - 1],\r\n          ]\r\n        : pagesItem}\r\n    </div>\r\n  );\r\n};\r\n","import { BooksList } from './components/BooksList';\nimport { Search } from './components/Search';\nimport { Footer } from './components/Footer';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Search />\n      <BooksList />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport reducer from './reducer';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    reducer,\r\n  },\r\n});\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}